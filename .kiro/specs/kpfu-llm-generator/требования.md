# Генератор образовательного контента КПФУ на основе LLM - Требования

## Обзор проекта

Система на основе больших языковых моделей (LLM), которая генерирует проверенный, не содержащий галлюцинаций образовательный контент (лекции и лабораторные работы) для преподавателей КПФУ, используя файлы РПД и базу данных университетской библиотеки в качестве авторитетных источников.

## Входные данные системы

### Структура файла РПД
- **Название предмета**: Наименование и код курса
- **Уровень образования**: Бакалавриат, магистратура или аспирантура
- **Направление/Программа**: Инженерия, медицина, информатика и т.д.
- **Общее количество часов**: Распределение часов на семестр для предмета
- **Темы лекций**: Количество и названия требуемых тем лекций
- **Примеры лабораторных работ**: Образцы лабораторных заданий для каждой лекции
- **Список литературы**: Книги и статьи с авторами и названиями

### База данных библиотеки КПФУ
- Учебные книги (полнотекстовый доступ)
- Академические статьи и исследовательские работы
- Проверенные академические источники с правильными цитатами

## Требования

### Требование 1: Обработка и валидация РПД

**Пользовательская история:** Как преподаватель, я хочу загрузить файл РПД и получить извлечение всех требований учебного плана, чтобы генерация контента основывалась на официальных академических стандартах.

#### Критерии приемки
1. КОГДА преподаватель загружает файл РПД ТО система ДОЛЖНА разобрать и извлечь все обязательные поля (название, степень, направление, часы, темы, лабораторные, литература)
2. КОГДА данные РПД неполные ТО система ДОЛЖНА определить отсутствующие поля и запросить уточнение
3. КОГДА предоставлены ссылки на литературу ТО система ДОЛЖНА проверить доступность в базе данных библиотеки КПФУ
4. ЕСЛИ формат РПД нестандартный ТО система ДОЛЖНА предоставить руководство по формату и примеры

### Требование 2: Верификация контента на основе литературы

**Пользовательская история:** Как преподаватель, я хочу, чтобы генерируемый контент основывался только на проверенных источниках библиотеки КПФУ, чтобы не было галлюцинаций или неточной информации.

#### Критерии приемки
1. КОГДА генерируется контент ТО система ДОЛЖНА использовать только литературу, указанную в РПД и доступную в базе данных КПФУ
2. КОГДА цитируется информация ТО система ДОЛЖНА предоставлять точные номера страниц и цитаты из исходных материалов
3. КОГДА недостаточно исходного материала ТО система ДОЛЖНА отмечать пробелы в контенте и предлагать дополнительную литературу
4. ЕСЛИ генерируемый контент не может быть проверен по источникам ТО система ДОЛЖНА отметить его для проверки преподавателем

### Требование 3: Генерация контента лекций

**Пользовательская история:** Как преподаватель, я хочу получить комплексные материалы лекций, сгенерированные для каждой темы, чтобы у меня были полные учебные ресурсы, соответствующие требованиям учебного плана.

#### Критерии приемки
1. КОГДА обрабатываются темы лекций ТО система ДОЛЖНА генерировать структурированный контент лекций для каждой темы
2. КОГДА создаются лекции ТО система ДОЛЖНА включать цели обучения, теоретический контент, примеры и выводы
3. КОГДА структурируется контент ТО система ДОЛЖНА адаптировать сложность к указанному уровню академической степени
4. ЕСЛИ лекция превышает выделенные часы ТО система ДОЛЖНА предоставить сокращенные и расширенные версии

### Требование 4: Генерация лабораторных работ

**Пользовательская история:** Как преподаватель, я хочу получить детальные лабораторные задания, сгенерированные на основе контента лекций и примеров РПД, чтобы студенты имели практический опыт обучения.

#### Критерии приемки
1. КОГДА генерируются лабораторные работы ТО система ДОЛЖНА создавать детальные задания на основе соответствующих тем лекций
2. КОГДА разрабатываются лабораторные ТО система ДОЛЖНА включать цели, процедуры, ожидаемые результаты и критерии оценки
3. КОГДА используются примеры лабораторных из РПД ТО система ДОЛЖНА расширять базовые примеры в полные задания
4. ЕСЛИ сложность лабораторной не соответствует уровню степени ТО система ДОЛЖНА соответствующим образом скорректировать сложность

### Требование 5: Качество контента и управление цитированием

**Пользовательская история:** Как преподаватель, я хочу, чтобы весь генерируемый контент был правильно процитирован и прослеживался до исходных материалов, чтобы поддерживалась академическая честность.

#### Критерии приемки
1. КОГДА генерируется любой контент ТО система ДОЛЖНА предоставлять полные цитаты для всех исходных материалов
2. КОГДА используются прямые цитаты ТО система ДОЛЖНА включать точные ссылки на страницы и кавычки
3. КОГДА перефразируется контент ТО система ДОЛЖНА сохранять атрибуцию источника и предоставлять диапазоны страниц
4. ЕСЛИ несколько источников покрывают одну тему ТО система ДОЛЖНА синтезировать информацию, сохраняя все цитаты

### Требование 6: Гибридная обработка производительности и оптимизация ресурсов

**Пользовательская история:** Как системный администратор, я хочу, чтобы система использовала гибридные подходы обработки для минимизации использования ресурсов при сохранении качества, чтобы система могла эффективно работать на стандартном оборудовании.

#### Критерии приемки
1. КОГДА оценивается релевантность книг ТО система ДОЛЖНА использовать сопоставление ключевых слов для ясных случаев (80%) и LLM только для неоднозначных случаев (20%)
2. КОГДА валидируется контент ТО система ДОЛЖНА использовать легковесные семантические модели (118МБ) вместо полной обработки LLM для проверки утверждений
3. КОГДА управляется память ТО система ДОЛЖНА поддерживать пиковое использование ОЗУ менее 5ГБ и использование в режиме ожидания менее 200МБ
4. ЕСЛИ уверенность обработки высока ТО система ДОЛЖНА использовать быстрые алгоритмические подходы, возвращаясь к LLM только при необходимости

### Требование 7: Масштабируемость и будущие расширения

**Пользовательская история:** Как системный администратор, я хочу, чтобы система была спроектирована для будущих улучшений, чтобы дополнительные типы контента и функции могли быть легко добавлены.

#### Критерии приемки
1. КОГДА проектируется архитектура системы ТО она ДОЛЖНА поддерживать модульные плагины генерации контента
2. КОГДА нужны новые типы контента ТО система ДОЛЖНА позволять легкое добавление новых генераторов
3. КОГДА изменяются требования интеграции ТО система ДОЛЖНА предоставлять гибкие API интерфейсы
4. ЕСЛИ использование масштабируется ТО система ДОЛЖНА обрабатывать множественные одновременные запросы генерации контента

### Требование 8: Рабочий процесс проверки и утверждения преподавателем

**Пользовательская история:** Как преподаватель, я хочу проверить и утвердить генерируемый контент перед использованием, чтобы я мог обеспечить качество и внести необходимые корректировки.

#### Критерии приемки
1. КОГДА контент генерируется ТО система ДОЛЖНА представить его для проверки преподавателем перед финализацией
2. КОГДА проверяется контент ТО преподаватели ДОЛЖНЫ иметь возможность редактировать, утверждать или запрашивать регенерацию
3. КОГДА вносятся изменения ТО система ДОЛЖНА поддерживать историю версий и прослеживаемость источников
4. ЕСЛИ контент отклоняется ТО система ДОЛЖНА учиться на обратной связи для улучшения будущей генерации

## Критерии успеха

### Основные метрики успеха
- **Точность контента**: 88% генерируемого контента проверяемо по исходным материалам (гибридная оптимизация)
- **Полнота цитирования**: 100% контента правильно атрибутировано к источникам библиотеки КПФУ
- **Удовлетворенность преподавателей**: 90%+ уровень одобрения генерируемых лекций и лабораторных
- **Экономия времени**: 94% сокращение времени подготовки материалов вручную (с 30-45 мин до 1.5-2 мин)

### Технические метрики производительности - Гибридный подход
- **Время обработки**: Генерация одной лекции в течение 1.5-2 минут с использованием гибридного 5-шагового конвейера
- **Эффективность памяти**: 85% меньше использования ОЗУ через гибридный подход моделей и оптимизированное управление контекстом
- **Покрытие источников**: Использование 2-3 наиболее релевантных книг из ссылок литературы РПД
- **Полнота контента**: Все требуемые темы лекций и лабораторные работы генерируются с соответствием ФГОС
- **Надежность системы**: 99% время работы для сервисов генерации контента

### Метрики производительности гибридного конвейера
- **Шаг 1 (Гибридная релевантность книг)**: 
  - Ясные случаи (80%): 2-3 секунды с использованием сопоставления ключевых слов
  - Неоднозначные случаи (20%): 15-20 секунд с использованием LLM резерва
  - Среднее время завершения: 6 секунд
- **Шаг 2 (Выбор страниц)**: Завершение в течение 60 секунд с использованием параллельной загрузки и умной индексации
- **Шаг 3 (Генерация контента)**: Завершение в течение 90-120 секунд с использованием Llama 3.1 8B и потоковой передачи
- **Шаг 4 (Семантическая валидация)**: Завершение в течение 10-15 секунд с использованием легковесного трансформера предложений (модель 118МБ)
- **Шаг 5 (Форматирование ФГОС)**: Завершение в течение 30 секунд с использованием предзагруженных шаблонов

### Разбивка использования памяти
- **Модель Llama 3.1 8B**: 4.7ГБ ОЗУ (загружается только для неоднозначных случаев Шага 1 и Шага 3)
- **Модель семантической валидации**: 118МБ ОЗУ (SentenceTransformer paraphrase-multilingual-MiniLM-L12-v2)
- **Управление контекстом**: Максимум 5,000 токенов (~20МБ) на сессию генерации
- **Кэш страниц**: 50-100МБ для выбранных страниц книг
- **Общее пиковое ОЗУ**: ~5ГБ (против 8-12ГБ традиционного подхода - сокращение на 58%)
- **ОЗУ в режиме ожидания**: ~200МБ при отсутствии генерации (только семантическая модель + кэш)

### Требования к оборудованию
#### Минимальная конфигурация
- **ОЗУ**: 8ГБ (позволяет 5ГБ пик + 3ГБ ОС/другие процессы)
- **ЦП**: 4 ядра, 2.5ГГц (для параллельной обработки и вывода семантической модели)
- **Хранилище**: 20ГБ SSD (для моделей, кэша и индекса базы данных КПФУ)
- **Сеть**: 100Мбит/с (для доступа к базе данных библиотеки КПФУ)

#### Рекомендуемая конфигурация  
- **ОЗУ**: 16ГБ (комфортный запас для множественных одновременных сессий)
- **ЦП**: 8 ядер, 3.0ГГц (оптимальная производительность для гибридной обработки)
- **Хранилище**: 50ГБ NVMe SSD (быстрая загрузка моделей и кэширование страниц)
- **Сеть**: 1Гбит/с (быстрое извлечение литературы)

#### Масштабирование производительности
- **Один пользователь**: 1.5-2 минуты на лекцию на минимальном оборудовании
- **5 одновременных пользователей**: 2-3 минуты на лекцию на рекомендуемом оборудовании  
- **10+ пользователей**: Требует балансировки нагрузки с множественными экземплярами